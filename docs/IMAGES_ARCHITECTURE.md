# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –º–æ–¥–µ–ª–µ–π

## üéØ –¶–µ–ª—å
–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —É—Å—Ç—Ä–æ–π—Å—Ç–≤ Apple –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —É—Å–ª—É–≥.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ (public/)
```
public/
‚îî‚îÄ‚îÄ images/
    ‚îî‚îÄ‚îÄ devices/
        ‚îú‚îÄ‚îÄ iphone/
        ‚îÇ   ‚îú‚îÄ‚îÄ iphone-17-pro-max.webp
        ‚îÇ   ‚îú‚îÄ‚îÄ iphone-17-pro.webp
        ‚îÇ   ‚îú‚îÄ‚îÄ iphone-air.webp
        ‚îÇ   ‚îî‚îÄ‚îÄ ...
        ‚îú‚îÄ‚îÄ ipad/
        ‚îÇ   ‚îú‚îÄ‚îÄ ipad-pro-13-2024.webp
        ‚îÇ   ‚îú‚îÄ‚îÄ ipad-pro-12-9-2022.webp
        ‚îÇ   ‚îî‚îÄ‚îÄ ...
        ‚îú‚îÄ‚îÄ macbook/
        ‚îî‚îÄ‚îÄ apple-watch/
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (Next.js –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ git

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –í–∞—Ä–∏–∞–Ω—Ç 2: Supabase Storage (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```
Supabase Storage Bucket: "device-images"
‚îú‚îÄ‚îÄ iphone/
‚îÇ   ‚îú‚îÄ‚îÄ iphone-17-pro-max.webp
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ ipad/
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ macbook/
‚îî‚îÄ‚îÄ apple-watch/
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ CDN –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ù–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- ‚úÖ –ú–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É Supabase Storage
- ‚ùå –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

### –í–∞—Ä–∏–∞–Ω—Ç 3: Placeholder + Lazy Loading
```typescript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞–≥–ª—É—à–∫–∏ —Å –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π
const DEFAULT_IMAGE = '/images/devices/placeholder.webp';
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ

## üóÑÔ∏è –°—Ö–µ–º–∞ –ë–î

### –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```sql
device_models (
  image_url TEXT  -- URL –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é –º–æ–¥–µ–ª–∏
)
```

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```sql
-- –î–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤
ALTER TABLE device_models
ADD COLUMN image_thumbnail_url TEXT,  -- –ú–∏–Ω–∏–∞—Ç—é—Ä–∞ (200x200)
ADD COLUMN image_medium_url TEXT,     -- –°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä (400x400)
ADD COLUMN image_large_url TEXT;      -- –ü–æ–ª–Ω—ã–π —Ä–∞–∑–º–µ—Ä (800x800)
```

## üìê –§–æ—Ä–º–∞—Ç—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. **–§–æ—Ä–º–∞—Ç:** WebP (–º–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä, –ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ)
2. **–†–∞–∑–º–µ—Ä—ã:**
   - Thumbnail: 200x200px (–¥–ª—è —Å–µ—Ç–∫–∏ –º–æ–¥–µ–ª–µ–π)
   - Medium: 400x400px (–¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã —É—Å–ª—É–≥)
   - Large: 800x800px (–¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞/–¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –°–∂–∞—Ç–∏–µ 80% –∫–∞—á–µ—Å—Ç–≤–∞
4. **Fallback:** PNG –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤

### –ü—Ä–∏–º–µ—Ä URL-–ø–∞—Ç—Ç–µ—Ä–Ω–∞:
```typescript
// Supabase Storage
https://[PROJECT_ID].supabase.co/storage/v1/object/public/device-images/iphone/iphone-17-pro-max.webp

// –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
/images/devices/iphone/iphone-17-pro-max.webp
```

## üé® –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

### DeviceImage Component
```tsx
// src/components/pricelist/DeviceImage.tsx
interface DeviceImageProps {
  modelSlug: string;
  imageUrl?: string | null;
  alt: string;
  size?: 'small' | 'medium' | 'large';
  className?: string;
}

export function DeviceImage({ modelSlug, imageUrl, alt, size = 'medium' }: DeviceImageProps) {
  const sizeClasses = {
    small: 'w-[100px] h-[100px]',
    medium: 'w-[200px] h-[200px]',
    large: 'w-[400px] h-[400px]',
  };

  const placeholder = `/images/devices/placeholder-${size}.webp`;
  const src = imageUrl || placeholder;

  return (
    <Image
      src={src}
      alt={alt}
      width={size === 'small' ? 100 : size === 'medium' ? 200 : 400}
      height={size === 'small' ? 100 : size === 'medium' ? 200 : 400}
      className={sizeClasses[size]}
      loading="lazy"
      onError={(e) => {
        e.currentTarget.src = placeholder;
      }}
    />
  );
}
```

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –≠—Ç–∞–ø 1: Placeholder –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```bash
# –°–æ–∑–¥–∞—Ç—å placeholder –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
public/images/devices/
‚îú‚îÄ‚îÄ placeholder-iphone.webp
‚îú‚îÄ‚îÄ placeholder-ipad.webp
‚îú‚îÄ‚îÄ placeholder-macbook.webp
‚îî‚îÄ‚îÄ placeholder-apple-watch.webp
```

### –≠—Ç–∞–ø 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```sql
-- –û–±–Ω–æ–≤–∏—Ç—å image_url –¥–ª—è –º–æ–¥–µ–ª–µ–π
UPDATE device_models
SET image_url = '/images/devices/iphone/iphone-17-pro-max.webp'
WHERE slug = 'iphone-17-pro-max';
```

### –≠—Ç–∞–ø 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase Storage (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```sql
-- –°–æ–∑–¥–∞—Ç—å bucket –≤ Supabase
INSERT INTO storage.buckets (id, name, public)
VALUES ('device-images', 'device-images', true);

-- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞
CREATE POLICY "Public read access"
ON storage.objects FOR SELECT
USING (bucket_id = 'device-images');
```

## üì± –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —É—Å–ª—É–≥

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
```tsx
// src/app/pricelist/[category]/[model]/page.tsx
<div className="flex items-center gap-6 mb-8">
  <DeviceImage
    modelSlug={model.slug}
    imageUrl={model.image_url}
    alt={model.name}
    size="medium"
  />
  <div>
    <h1>{model.name}</h1>
    <p>{model.series}</p>
  </div>
</div>
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í –∫–∞—Ä—Ç–æ—á–∫–µ –º–æ–¥–µ–ª–∏ (—Å–µ—Ç–∫–∞)
```tsx
// src/components/pricelist/DeviceModelGrid.tsx
<div className="grid grid-cols-2 md:grid-cols-4 gap-4">
  {models.map(model => (
    <Link key={model.id} href={`/pricelist/${category}/${model.slug}`}>
      <div className="card">
        <DeviceImage
          modelSlug={model.slug}
          imageUrl={model.image_url}
          alt={model.name}
          size="small"
        />
        <p>{model.name}</p>
      </div>
    </Link>
  ))}
</div>
```

## üöÄ –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥–µ–ª–∏ –≤ –ë–î (–º–∏–≥—Ä–∞—Ü–∏—è 003)
2. üîÑ –°–æ–∑–¥–∞—Ç—å placeholder –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
3. üîÑ –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç DeviceImage
4. üîÑ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ —Å—Ç—Ä–∞–Ω–∏—Ü—É —É—Å–ª—É–≥
5. ‚è≥ –°–æ–±—Ä–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤
6. ‚è≥ –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ Supabase)
7. ‚è≥ –û–±–Ω–æ–≤–∏—Ç—å image_url –≤ –ë–î

## üìä Performance

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- **Next.js Image:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **Lazy Loading:** –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **WebP:** –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞ 25-35%
- **CDN:** –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ Supabase Storage

### –ú–µ—Ç—Ä–∏–∫–∏:
- Placeholder: ~2-5KB
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: ~10-30KB
- –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: <100ms (—Å CDN)

## üîç –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏:
1. **Apple.com** - –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
2. **GSMArena** - –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
3. **iFixit** - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Ä–µ–º–æ–Ω—Ç–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
4. **–°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º:
- –ë–µ–ª—ã–π/–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏
- –ë–µ–∑ —Ä—É–∫ –∏ –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- –í—ã—Å–æ–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ (–º–∏–Ω–∏–º—É–º 800x800px)
